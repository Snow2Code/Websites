// Snowy: As of December 26 2024. This goes unused.

const bgMusic = [
    // { title: "Down Under", artist: "SharaX", url: "about:blank", },
    // { title: "Livin' In the Sunlight, Lovin' In the Moon Light", artist: "Tiny Tim", url: "about:blank"},
    // { title: "Danger Zone", artist: "Kenny Loggins", url: "free bird!", },
    { title: "Dream On", artist: "Aerosmith", url: "free bird!", },
    { title: "Free Bird", artist: "Lynyrd Shynyrd", url: "about:blank", },
    // { title: "Get Lucky", artist: "Daft Punk", url: "about:blank", },
    { title: "Goofy Goober Rock", artist: "Tom Rothrock and Jim Wis", url: "about:blank", },
    // { title: "Happy", artist: "Pharrel Williams", url: "about:blank", },
    // { title: "Intruder Alert (Metal)", artist: "Metal Fortress", url: "about:blank", },
    // { title: "Easy Lemon", artist: "Kevin Macleod", url: "about:blank", },
    // { title: "Lethal Company Ice Cream Song (Metal)", artist: "Lame Genie, Lethal Company by Zeekerss", url: "about:blank", },
    // { title: "Lethal Company Ice Cream Song (With Lyrics)", artist: "Musical Unicorn, Lethal Company by Zeekerss", url: "about:blank", },
    // { title: "Loonboon", artist: "Laura Shigihara", url: "about:blank", },
    { title: "Miss You", artist: "Oliver Tree & Robin Schulz", url: "about:blank", },
    // { title: "Nyan cat", artist: "Chris Torres", url: "about:blank", },
    { title: "I Don't Care Anymore", artist: "Phil Collins", url: "about:blank", },
    // { title: "Pop It, Don't Drop It! (TF2 mix)", artist: "Unknown", url: "about:blank", },
    // { title: "Here I Come (Metal cover)", artist: "FalKKonE, DOORS by LSplash", url: "about:blank", },
    { title: "Radioactive", artist: "Imagine Dragons", url: "about:blank", },
    { title: "Shake It Off", artist: "Taylor Swift", url: "about:blank", },
    // { title: "TF2 Soldier of Dance (Metal cover)", artist: "Metal Fortress", url: "about:blank", },
    // { title: "WAR!", artist: "DWL1993, Kriz (Orginal)", url: "about:blank", },
    // { title: "What is Love", artist: "Haddaway", url: "about:blank", },
    // { title: "Spooky, Scary Skeletons", artist: "Andrew Gold", url: "about:blank", },
    { title: "Why Not", artist: "Ghostface Playa", url: "about:blank", },
    // { title: "Can You Feel My Heart", artist: "Instrumental", realartist: "Bring Me The Horizon", url: "about:blank", },
    // { title: "The Entertainer", artist: "Scott Joplin", url: "about:blank", },
    { title: "Supernova", artist: "Laszlo", url: "about:blank", },
    // { title: "Lacrimosa", artist: "Mozart", url: "about:blank", },
    // { title: "Pixelland", artist: "Kevin Macleod", url: "about:blank", },
    { title: "Ripped Pants", artist: "Jeff and Barry", url: "about:blank", },
    // { title: "AR?A_M4TH", artist: "bxnwxghxrn", url: "about:blank", },
    { title: "Party Rock Anthem", artist: "LMAFO, Lauren Bennett, GoonRock", url: "about:blank", },
    // { title: "Can You Feel My Heart", artist: "Bring Me The Horizon", url: "about:blank", },
    // { title: "Boom Boom Boom Boom!!", artist: "Vengaboys", url: "about:blank", },
    { title: "Nightcore - Monster", artist: "Skillet", url: "about:blank", },
    { title: "Thief", artist: "Ookay", url: "about:blank", },
    { title: "Indigo Park Credits Song", artist: "RecD and OtterBoyVA", url: "about:blank", },
    // { title: "Welcome to Indigo Park", artist: "RecD and Jakeneutron", url: "about:blank", },
    { title: "Rambley Express", artist: "RecD and Jakeneutron", url: "about:blank", },
    { title: "BARNSTORMING", artist: "RecD and Jakeneutron", url: "about:blank", },
    // { title: "Winds Of Fjords", artist: "Soft Knees", url: "about:blank", },
    // { title: "Western Spaghetti", artist: "Eric Gemsa", url: "about:blank", },
    // { title: "Cowboy Song", artist: "Sight of Wonders", url: "about:blank", },
    { title: "Graze the Roof, PvZ 2 Modern Day Mid-Wave B, Fanmade Remix", artist: "liledix4", url: "about:blank", },
    { title: "Kazotsky Kick - Team Fortress 2 [NoteBlock Remix]", artist: "NoteBlock", url: "about:blank", },
    // { title: "All Eyes on Me", artist: "Conro (Monstercat)", url: "about:blank", },
    // { title: "8-Bit Weapon - M.U.L.E", artist: "Akita Neru", url: "about:blank", },

    
    // Electronic, Futuristic, Upbeat
    { title: "Protogen Evolution", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Antidote", artist: "Swedish House Mafia", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Alone", artist: "", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Cloud 9", artist: "Tobu", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Sunburst", artist: "Tobu", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "On & On", artist: "Cartoon, JÃ©ja (feat. Daniel Levi)", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Unity", artist: "TheFatRat", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Why We Lose", artist: "Cartoon, JÃ©ja (Feat. Coleman Trapp)", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "INVERSE REALITY", artist: "ZÃ˜MB", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    // EDM/Pop Bops
    // { title: "My Heart", artist: "Different Heaven & EH!DE", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Nekozilla", artist: "Different Heaven", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Feel Good", artist: "Syn Cole", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Pretty Please", artist: "Moe Shop", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Highlight", artist: "Moe Shop", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Ocean Eyes", artist: "Gildarts", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Say So", artist: "Doja Cat", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "You Look So Good", artist: "Moe Shop", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    // Game Soundtracks & Remixes
    // { title: "Level Up", artist: "Raccy", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Team Fortress 2 - Main Theme Remix", artist: "NoteBlock", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Team Fortress 2 - Mann vs Machine Remix", artist: "NoteBlock", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Team Fortress 2 - Robots! Remix", artist: "NoteBlock", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Team Fortress 2 - Main Theme (continued by AI)", artist: "Mike Morasky. Continuation by Suno AI", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Rocket Jump Waltz", artist: "Metal Fortress. Orginal by Valve", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Saluting the Fallen", artist: "Valve Studio Orchestra", url: "about:blank", subfolder: "added", hasinstrumental: false},
    // { title: "Mannrobics", artist: "Metal Fortress. Original by Valve", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Conga", artist: "Metal Fortress. Original by Valve", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    { title: "Bonus Ducks!", artist: "SharaX", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Graze the Roof", artist: "Laura Shigihara", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Sentries vs Zombies", artist: "GramBarn36", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Roblox Xbox App Main Menu Music", artist: "Peyton holbrook", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Severe Acrophobia", artist: "uglyburger0", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Apeirophobic Summit", artist: "uglyburger0", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Operating Theatre (Surgeon Simulator)", artist: "Black Heron", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Fire Emblem â€“ Super Smash Bros Melee", artist: "Grant Kirkhope", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Five Nights at Freddys 2 Song", artist: "The Living Tombstone", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Memory", artist: "Toby Fox", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Protogen Party", artist: "Kirefyx", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Shooting Stars", artist: "Bag Raiders", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Spongebob Squarepants Ending Theme Song", artist: "Steve Belfer", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Spongebob Soundtrack - Death Trap", artist: "Gregor F. Narholz", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "The Best Day Ever", artist: "Andy Paley and Tom Kenny", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "The SpongeBob SquarePants Theme Song â€“ Painty the Pirate", artist: "Patrick pinney", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Ocean Man", artist: "Ween", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Boombox 5", artist: "Lethal Company (Zeekerss)", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Icecream Song/Delivery Music", artist: "Lethal Company (Zeekerss)", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    // Love Songs / Romance Vibes
    // { title: "Cosmic Love", artist: "Snail's House", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "You Made Me Fall in Love ðŸ’–", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Just The Way You Are", artist: "Bruno Mars", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Lovesick", artist: "Moe Shop", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "love birds", artist: "Moe Shop", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Memories", artist: "Gildarts", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Somebody That I Used To Know", artist: "Gotye feat Kimbra", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "our hearts collide", artist: "iamsleepless", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Paper Alibis", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "You Look So Good", artist: "Moe Shop", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "you are my sunshine", artist: "christina perri", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Tell Me Everything You Know", artist: "Aethernaut", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "For You to Stay", artist: "Mira K", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "coffee date", artist: "narpy", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "love of mine", artist: "narpy", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "the very thought of you", artist: "narpy", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    // Funny/Meme Songs
    // { title: "Fully Charged", artist: "DWL1993 (Original Song: Pimp Code - You Know)", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Beep Beep I'm a Sheep", artist: "Tomska & BlackGryph0n", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Computer Error Song", artist: "Unkonown", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Everybody Do The Flop", artist: "LilDeuceDeuce", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Dumb Ways to Die", artist: "Tangerine Kitty", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "The Fox (What Does the Fox Say)", artist: "Ylvis", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "I swallowed shampoo, probably gonna die!", artist: "Soupy Garbage Juice", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "ALL THE WAY", artist: "Jacksepticeye Songify Remix by Schmoyoho", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Sentry Beat", artist: "Salde au Thon", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Cats", artist: "The Living Tombstone", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Zombies on Your Lawn", artist: "Laura Shigihara", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "It's Muffin Time!", artist: "Roomie", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "The Muffin Song", artist: "asdfmovie feat. Schmoyoho", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Re: Your Brains", artist: "Jonathan Coulton", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    // Classic Hits / Retro Vibes
    // { title: "September", artist: "Earth, Wind & Fire", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Eye of the Tiger", artist: "Survivor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Wake Me Up Before You Go-Go", artist: "Wham!", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Livin' On A Prayer", artist: "Bon Jovi", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "We Will Rock You", artist: "Queen", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Footloose", artist: "Kenny Loggins", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Another One Bites the Dust", artist: "Queen", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    // Emotional Songs
    { title: "NOT OK", artist: "Robert Grace", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Fake Fine", artist: "Robert Grace", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Casper", artist: "Robert Grace", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "I'm Done", artist: "Robert Grace", url: "about:blank", subfolder: "added-new", hasinstrumental: false, },
    { title: "Flatline (Surgeon Simulator)", artist: "Black Heron", url: "about:blank", subfolder: "added", hasinstrumental: false, },

    // Game & Animation Soundtrack Remixes
    // { title: "Moon Theme Remix", artist: "Plasma3 Music", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Transit", artist: "Fishcracks", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Slumber Party", artist: "Fishcracks", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Ready or Not", artist: "Lightning_Splash/LSplash", subfolder: "added-new"},
    
    // Miscellaneous / Unique Vibes
    { title: "Another Mistake", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Bitter and Blunt âœ¨", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    // { title: "Blank", artist: "Disfigure", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Bodies", artist: "Drowning Pool", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Cadaver", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "California Girls", artist: "Katy Perry Feat Snoop Dogg", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Candyland", artist: "Tobu", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Caramelldansen", artist: "Caremella Girls", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Circus Hop", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Dandelion ðŸŒ¼", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Dubidubidu", artist: "Christell", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Fallacy", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "First Date", artist: "blink-182", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Gradient Walk", artist: "Aethernaut", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Hallelujah", artist: "Alexandra Burke", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "I Don't Give A Shit", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "I Forgot That You Exist Â¯\\_(ãƒ„)_/Â¯", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Iron Furry", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "It's Normal", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Kani Kani (Fish)", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Let It Snow!", artist: "Dean Martin", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Lonely Day", artist: "System Of A Down", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Loner", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Memory Merge", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Nothing", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Notice", artist: "Moe Shop", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Pixel Galaxy", artist: "Snail's House", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Pool Party", artist: "Aethernaut", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Relax Sound", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "See You!", artist: "kennyoung and YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Shine Get", artist: "Aethernaut", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Silly Plans ~ Revisit", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Silly Plans", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Sleep Sea", artist: "Bonnie37 Electro", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Snowy", artist: "Toby Fox", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Suicider", artist: "kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "sxrry", artist: "wiv", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Top 10 Things to Do Before You Die", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Trash Talkin'", artist: "YonKaGor and kennyoung", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "turn back", artist: "wiv", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "Waterland", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "We Like to Party!", artist: "Vengaboys", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "What Makes You Beautiful", artist: "One Direction", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "You'll Be Gone", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
    { title: "You're Just Like Pop Music", artist: "YonKaGor", url: "about:blank", subfolder: "added", hasinstrumental: false, },
];

const chosenMusic = bgMusic[Math.floor(Math.random() * bgMusic.length)];
const audio = new Audio("https://github.com/sourcesounds/tf/raw/master/sound/music/mvm_start_mid_wave.wav");

bgMusic.forEach((file, index) => {
    if (file.title == chosenMusic.title) {
        console.log(chosenMusic.title);
        document.getElementById("playing-top").innerText = `Playing: ${chosenMusic.title} by ${chosenMusic.artist}`;
        document.getElementById("playing-bottom").innerText = `Playing: ${chosenMusic.title} by ${chosenMusic.artist}`;
        // console.log(`${index} ${file.title}`);
        // if (chosenMusic.subfolder == true) {
        //     audio.src = `/misc/snow/music/${chosenMusic.subfolder}/${chosenMusic.title}.mp3`
        // } else {
        //     audio.src = `/misc/snow/music/main/${index + 1}. ${chosenMusic.title}.mp3`
        // }
        

        switch (file.title) {
            case "Down Under":
                audio.volume = 0.5;
                audio.src = "/misc/snow/music/main/1. Down Under.mp3";
                break;




            // Cases for Added
            case "Alone":
                let randomAloneShit = Math.floor(Math.random() * (2 - 1 + 1)) + 1;

                if (randomAloneShit == 1)
                {
                    document.getElementById("playing-top").innerText = `Playing: ${chosenMusic.title} by Marshmello`;
                    document.getElementById("playing-top").innerText = `Playing: ${chosenMusic.title} by Marshmello`;
                    audio.src = `/misc/snow/music/${file.subfolder}/Alone (Marshmello).mp3`
                } else {
                    audio.src = `/misc/snow/music/${file.subfolder}/Alone.mp3`
                }
        }
    }
});


audio.loop = true;

const audioplayer = document.getElementById("audio-player");
const audioplayerbottom = document.getElementById("audio-player-bottom");
const canvas = document.getElementById("visualizer");
const canvasbottom = document.getElementById("visualizerbottom");
const ctx = canvas.getContext("2d");
const ctxbottom = canvasbottom.getContext("2d");
const audioContext = new AudioContext();
const audioSource = audioContext.createMediaElementSource(audio);
const analyser = audioContext.createAnalyser();
                
audioSource.connect(analyser);
analyser.connect(audioContext.destination);

analyser.fftSize = 64;
const bufferLength = analyser.frequencyBinCount;
const dataArray = new Uint8Array(bufferLength);

function draw() {
    requestAnimationFrame(draw);

    analyser.getByteFrequencyData(dataArray);

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctxbottom.clearRect(0, 0, canvasbottom.width, canvasbottom.height);
    // console.log(dataArray);
    dataArray.forEach((value, index) => {
        const barHeight = value / 2;
        const x = index * 15;
        ctx.fillStyle = "rgba(0, 255, 0, 0.6)";
        ctx.fillRect(x, canvas.height - barHeight, 10, barHeight);
        ctxbottom.fillStyle = "rgba(0, 255, 0, 0.6)";
        ctxbottom.fillRect(x, canvas.height - barHeight, 10, barHeight);
    });
}


function pageLoad() {
    if (localStorage.getItem("snowy bg") == undefined || localStorage.getItem("snowy bg") == null || localStorage.getItem("snowy bg") == "true") {
        console.log(localStorage.getItem("snowy bg"));
        localStorage.setItem("snowy bg", "false");
    }

    if (localStorage.getItem("snowy bg") == "false" || !audio.paused) {
        localStorage.setItem("snowy bg", "true");
        audio.play();
        draw();
    }
}

window.addEventListener('visibilitychange', () => {
    if (document.visibilityState === 'visible') { // Tab is active
        if (localStorage.getItem("snowy bg") == "false" || !audio.paused) {
            localStorage.setItem("snowy bg", "true");
            audio.play();
            draw();
        }
    } else { // Tab is not active
        audio.pause();
        localStorage.setItem("snowy bg", "false")
    }
});

audio.play();
draw();

window.onload = pageLoad;